<app-sidenav (onToggleSideNav)="onToggleSideNav($event)"></app-sidenav>
<div class="body" [ngClass]="getBodyClass()">
<div class="report-div">
  <div class="btn-group float-end" dropdown #dropdown="bs-dropdown" [autoClose]="true">
    <button id="button-basic" dropdownToggle type="button"
            class="btn btn-outline-primary dropdown-toggle"
            aria-controls="dropdown-basic">
     Export Report <span class="caret"></span>
    </button>
    <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
        role="menu" aria-labelledby="button-basic">
      <li role="menuitem"><a class="dropdown-item" (click)="exportWorkspace(userId)">Workspaces</a></li>
      <li role="menuitem"><a class="dropdown-item" href="#">Boards</a></li>
      <li role="menuitem"><a class="dropdown-item" href="#">Assigned Tasks</a></li>
      <li role="menuitem"><a class="dropdown-item" href="#">Finished Tasks</a></li>
      <li class="divider dropdown-divider"></li>
      <li role="menuitem"><a class="dropdown-item" href="#">Overview</a>
      </li>
    </ul>
  </div>
  <main class="py-6 bg-surface-secondary mt-5">
    <div class="container-fluid">
      <!-- Card stats -->
      <div class="row g-6 mb-6" >
        <div class="col-xl-3 col-sm-6 col-12">
          <div class="card shadow border-0">
            <div class="card-body" (click)="isClicks('workspace')">
              <div class="row">
                <div class="col"> <span class="h6 font-semibold text-muted text-sm d-block mb-2">Your Workspaces</span> <span class="h3 font-bold mb-0">{{workspaceCount}}</span> </div>

              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 col-12" >
          <div class="card shadow border-0">
            <div class="card-body" (click)="isClicks('board')">
              <div class="row">
                <div class="col"> <span class="h6 font-semibold text-muted text-sm d-block mb-2">Your Boards</span> <span class="h3 font-bold mb-0">{{boardCount}}</span> </div>

              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 col-12" (click)="isClicks('task')">
          <div class="card shadow border-0">
            <div class="card-body">
              <div class="row">
                <div class="col"> <span class="h6 font-semibold text-muted text-sm d-block mb-2">Your Assigned Tasks</span> <span class="h3 font-bold mb-0">233</span> </div>

              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 col-12">
          <div class="card shadow border-0">
            <div class="card-body">
              <div class="row">
                <div class="col"> <span class="h6 font-semibold text-muted text-sm d-block mb-2">Your Finished Tasks</span> <span class="h3 font-bold mb-0">99</span> </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr/>
    <!-- detail -->
    <h2 style="text-align: left" class="text-color" *ngIf="isClick=='workspace'">Workspaces</h2>
    <h2 style="text-align: left" class="text-color" *ngIf="isClick=='board'">Boards</h2>
    <h2 style="text-align: left" class="text-color" *ngIf="isClick=='task'">Tasks</h2>
    <div class="table-responsive">
      <table class="table table-hover table-nowrap">
        <thead class="thead-light">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th></th>
        </tr>
        </thead>
        <tbody *ngIf="isClick=='workspace'">
        <tr *ngFor="let w of workspaces;let i=index">
          <td>{{i+1}}</td>
          <td>{{w.name}} </td>
          <td></td>
        </tr>
        </tbody>
        <tbody *ngIf="isClick=='board'">
          <tr *ngFor="let b of boards;let i=index">
            <td>{{i+1}}</td>
            <td>{{b.name}} </td>
            <td></td>
          </tr>
          </tbody>
      </table>
    </div>
  </main>
</div>
</div>


